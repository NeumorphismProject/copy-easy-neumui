(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-sub-jj-game-game"],{"02d2":function(e,t,n){var a=n("c86c"),r=n("2ec5"),i=n("5fe2"),o=n("d372");t=a(!1);var s=r(i),l=r(o);t.push([e.i,".audio-btn[data-v-342b0e28]{width:%?56?%;height:%?56?%;background-size:100% 100%;background-repeat:no-repeat;position:fixed;top:%?0?%;left:56vw;z-index:99999\n    /* transform: translateX(-50%); */}.audio-enabled[data-v-342b0e28]{background-image:url("+s+")}.audio-muted[data-v-342b0e28]{background-image:url("+l+")}",""]),e.exports=t},"06a8":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{class:{"audio-btn":!0,"audio-enabled":!e.isMuted,"audio-muted":e.isMuted},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toggleAudio.apply(void 0,arguments)}}})},r=[]},"0829":function(e,t,n){"use strict";var a=n("8bdb"),r=n("ea07").entries;a({target:"Object",stat:!0},{entries:function(e){return r(e)}})},"09de":function(e,t,n){e.exports=n.p+"static/pbus/p6.png"},"0d09":function(e,t,n){e.exports=n.p+"static/pbus/j_medals.png"},"0ee2":function(e,t,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.stopJjBGM=t.playJjBGM2=t.playJjBGM1=t.audioBaseUrl=t.AudioPlayer=t.AUDIO_PRELOAD_EFFECTS=void 0,n("0829");var r=a(n("5de6")),i=a(n("80b1")),o=a(n("efe5")),s=a(n("39d8")),l=n("9fbf"),c=function(){function e(){if((0,i.default)(this,e),e.instance)return e.instance;e.instance=this,e.bgmAudio=uni.createInnerAudioContext(),e.bgmAudio.loop=!0}return(0,o.default)(e,null,[{key:"preload",value:function(t){for(var n=0,a=Object.entries(t);n<a.length;n++){var i=(0,r.default)(a[n],2),o=i[0],s=i[1];e.effectAudio[o]||(e.effectAudio[o]=uni.createInnerAudioContext(),e.effectAudio[o].src=s)}}},{key:"preloadBGM",value:function(t){e.bgmAudio||new e,e.bgmAudio.stop(),e.bgmAudio.src=t,e.bgmAudio.volume=e.isMuted?0:e.bgmVolume}},{key:"playPreloadBGM",value:function(){e.bgmAudio.play()}},{key:"clearPreload",value:function(){for(var t=0,n=Object.entries(e.effectAudio);t<n.length;t++){var a=(0,r.default)(n[t],2),i=a[0],o=a[1];o.stop(),o.destroy(),delete e.effectAudio[i]}}},{key:"playBGM",value:function(t){e.bgmAudio||new e,e.bgmAudio.stop(),e.bgmAudio.src=t,e.bgmAudio.volume=e.isMuted?0:e.bgmVolume,e.bgmAudio.play()}},{key:"playEffect",value:function(t){if(!e.isMuted){var n=e.effectAudio[t];n||(n=uni.createInnerAudioContext(),n.src=t,e.effectAudio[t]=n),n.volume=e.effectVolume,n.seek(0),n.play()}}},{key:"pauseBGM",value:function(){e.bgmAudio&&e.bgmAudio.pause()}},{key:"resumeBGM",value:function(){e.bgmAudio&&e.bgmAudio.play()}},{key:"stopBGM",value:function(){e.bgmAudio&&e.bgmAudio.stop()}},{key:"setBGMVolume",value:function(t){e.bgmVolume=Math.max(0,Math.min(1,t)),e.bgmAudio&&!e.isMuted&&(e.bgmAudio.volume=e.bgmVolume)}},{key:"setEffectVolume",value:function(t){e.effectVolume=Math.max(0,Math.min(1,t))}},{key:"setMute",value:function(t){e.isMuted=t,e.bgmAudio&&(e.bgmAudio.volume=t?0:e.bgmVolume,e.bgmAudio.play())}}]),e}();t.AudioPlayer=c,(0,s.default)(c,"instance",null),(0,s.default)(c,"bgmAudio",null),(0,s.default)(c,"effectAudio",{}),(0,s.default)(c,"bgmVolume",.6),(0,s.default)(c,"effectVolume",1),(0,s.default)(c,"isMuted",!1);var d="".concat(l.audioBaseUrlDev,"assets/audio/");t.audioBaseUrl=d;var u={jj_scroll:"".concat(d,"glass_006.ogg"),jj_pop:"".concat(d,"select_007.ogg"),jj_again:"".concat(d,"game-level-complete.mp3"),jj_end_normal:"".concat(d,"notification-1.mp3"),jj_end_sucess:"".concat(d,"award-success1.mp3"),jj_end_supper:"".concat(d,"award-supper1.mp3")};t.AUDIO_PRELOAD_EFFECTS=u,c.preload(u);t.playJjBGM1=function(){c.playBGM("".concat(d,"jj_bgm_music_15s_compress.mp3"))};t.playJjBGM2=function(){c.playBGM("".concat(d,"audio_jj_bgm1.mp3"))};t.stopJjBGM=function(){c.stopBGM()}},"18b5":function(e,t,n){var a=n("c86c");t=a(!1),t.push([e.i,".jj-game[data-v-4a1bcae8]{width:100vw;height:100vh;background-image:linear-gradient(0deg,#fbc2eb 0,#a6c1ee)}",""]),e.exports=t},"18fd":function(e,t,n){"use strict";n.r(t);var a=n("9988"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},"20ce":function(e,t,n){"use strict";n.r(t);var a=n("06a8"),r=n("18fd");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("3cfd");var o=n("828b"),s=Object(o["a"])(r["default"],a["b"],a["c"],!1,null,"342b0e28",null,!1,a["a"],void 0);t["default"]=s.exports},2634:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
t.default=function(){return e};var e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(P){d=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var r=t&&t.prototype instanceof p?t:p,o=Object.create(r.prototype),s=new M(a||[]);return i(o,"_invoke",{value:k(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=u;var g={};function p(){}function m(){}function v(){}var b={};d(b,s,(function(){return this}));var h=Object.getPrototypeOf,w=h&&h(h(E([])));w&&w!==n&&r.call(w,s)&&(b=w);var y=v.prototype=p.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var n;i(this,"_invoke",{value:function(i,o){function s(){return new t((function(n,s){(function n(i,o,s,l){var c=f(e[i],e,o);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==(0,a.default)(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(u).then((function(e){d.value=e,s(d)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)})(i,o,n,s)}))}return n=n?n.then(s,s):s()}})}function k(e,t,n){var a="suspendedStart";return function(r,i){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw i;return A()}for(n.method=r,n.arg=i;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var l=f(e,t,n);if("normal"===l.type){if(a=n.done?"completed":"suspendedYield",l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a="completed",n.method="throw",n.arg=l.arg)}}}function S(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator["return"]&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var r=f(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,g;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,g):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function E(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=v,i(y,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:m,configurable:!0}),m.displayName=d(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,d(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},x(_.prototype),d(_.prototype,l,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,a,r,i){void 0===i&&(i=Promise);var o=new _(u(t,n,a,r),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(y),d(y,c,"Generator"),d(y,s,(function(){return this})),d(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=E,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,a){return o.type="throw",o.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),g}},e},n("6a54"),n("01a2"),n("e39c"),n("bf0f"),n("844d"),n("18f7"),n("de6c"),n("3872e"),n("4e9b"),n("114e"),n("c240"),n("926e"),n("7a76"),n("c9b5"),n("aa9c"),n("2797"),n("8a8d"),n("dc69"),n("f7a5");var a=function(e){return e&&e.__esModule?e:{default:e}}(n("fcf3"))},"2ec5":function(e,t,n){"use strict";e.exports=function(e,t){return t||(t={}),e=e&&e.__esModule?e.default:e,"string"!==typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},"2fdc":function(e,t,n){"use strict";function a(e,t,n,a,r,i,o){try{var s=e[i](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(a,r)}n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)}))}},n("bf0f")},"3c35":function(e,t,n){"use strict";var a=n("dfd6"),r=n.n(a);r.a},"3cfd":function(e,t,n){"use strict";var a=n("41d0"),r=n.n(a);r.a},"41d0":function(e,t,n){var a=n("02d2");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=n("967d").default;r("5300ab90",a,!0,{sourceMap:!1,shadowMode:!1})},"42f0":function(e,t,n){"use strict";var a=n("4d46"),r=n.n(a);r.a},"4b58":function(e,t,n){var a=n("c86c"),r=n("2ec5"),i=n("9f06"),o=n("0d09"),s=n("ef49"),l=n("bde9");t=a(!1);var c=r(i),d=r(o),u=r(s),f=r(l);t.push([e.i,".modal-outter[data-v-6f9b7199]{position:fixed;left:0;right:0;top:0;bottom:0;z-index:98;-webkit-animation:modal-mask-in-data-v-6f9b7199 .3s ease-in-out forwards;animation:modal-mask-in-data-v-6f9b7199 .3s ease-in-out forwards}.modal-mask[data-v-6f9b7199]{pointer-events:none;position:absolute;left:0;right:0;top:0;bottom:0;z-index:99;background-color:rgba(0,0,0,.8);transition:all 1s ease-in-out}@-webkit-keyframes modal-mask-in-data-v-6f9b7199{0%{opacity:0}100%{opacity:1}}@keyframes modal-mask-in-data-v-6f9b7199{0%{opacity:0}100%{opacity:1}}.modal-outter-hide .modal-mask[data-v-6f9b7199]{opacity:0}\n\n/* --------- 最终奖励分展示区 --------- */.modal-ending-score-anim-zone[data-v-6f9b7199]{opacity:0;position:absolute;top:46vh;left:50vw;-webkit-transform:translate(-50%,-50%) scale(0) rotate(0deg);transform:translate(-50%,-50%) scale(0) rotate(0deg);z-index:999;display:flex;flex-direction:column;align-items:center;gap:%?2?%}\n\n/* 显示时的动画 */.modal-ending-score-anim-zone-display[data-v-6f9b7199]{-webkit-animation:modal-ending-score-anim-zone-in-data-v-6f9b7199 6s ease-in-out forwards;animation:modal-ending-score-anim-zone-in-data-v-6f9b7199 6s ease-in-out forwards}@-webkit-keyframes modal-ending-score-anim-zone-in-data-v-6f9b7199{0%{opacity:0;-webkit-transform:translate(-50%,-50%) scale(.1) rotate(0deg);transform:translate(-50%,-50%) scale(.1) rotate(0deg)}10%{opacity:1;-webkit-transform:translate(-50%,-50%) scale(4) rotate(0deg);transform:translate(-50%,-50%) scale(4) rotate(0deg)}20%{opacity:1;-webkit-transform:translate(-50%,-50%) scale(4) rotate(10deg);transform:translate(-50%,-50%) scale(4) rotate(10deg)}30%{opacity:1;-webkit-transform:translate(-50%,-50%) scale(4) rotate(-10deg);transform:translate(-50%,-50%) scale(4) rotate(-10deg)}40%{opacity:1;-webkit-transform:translate(-50%,-50%) scale(4) rotate(10deg);transform:translate(-50%,-50%) scale(4) rotate(10deg)}50%{opacity:1;-webkit-transform:translate(-50%,-50%) scale(4) rotate(-10deg);transform:translate(-50%,-50%) scale(4) rotate(-10deg)}60%{opacity:1;-webkit-transform:translate(-50%,-50%) scale(4) rotate(0deg);transform:translate(-50%,-50%) scale(4) rotate(0deg)}100%{opacity:0;-webkit-transform:translate(-50%,-50%) scale(4) rotate(0deg);transform:translate(-50%,-50%) scale(4) rotate(0deg)}}@keyframes modal-ending-score-anim-zone-in-data-v-6f9b7199{0%{opacity:0;-webkit-transform:translate(-50%,-50%) scale(.1) rotate(0deg);transform:translate(-50%,-50%) scale(.1) rotate(0deg)}10%{opacity:1;-webkit-transform:translate(-50%,-50%) scale(4) rotate(0deg);transform:translate(-50%,-50%) scale(4) rotate(0deg)}20%{opacity:1;-webkit-transform:translate(-50%,-50%) scale(4) rotate(10deg);transform:translate(-50%,-50%) scale(4) rotate(10deg)}30%{opacity:1;-webkit-transform:translate(-50%,-50%) scale(4) rotate(-10deg);transform:translate(-50%,-50%) scale(4) rotate(-10deg)}40%{opacity:1;-webkit-transform:translate(-50%,-50%) scale(4) rotate(10deg);transform:translate(-50%,-50%) scale(4) rotate(10deg)}50%{opacity:1;-webkit-transform:translate(-50%,-50%) scale(4) rotate(-10deg);transform:translate(-50%,-50%) scale(4) rotate(-10deg)}60%{opacity:1;-webkit-transform:translate(-50%,-50%) scale(4) rotate(0deg);transform:translate(-50%,-50%) scale(4) rotate(0deg)}100%{opacity:0;-webkit-transform:translate(-50%,-50%) scale(4) rotate(0deg);transform:translate(-50%,-50%) scale(4) rotate(0deg)}}.modal-ending-score-anim-zone .modal-ending-score-anim__thankstext[data-v-6f9b7199]{font-size:%?16?%;color:#e4bd3f;text-shadow:%?-1?% %?0?% 0 #26472d,%?1?% %?0?% 0 #26472d,%?-1?% %?0?% 0 #26472d,%?1?% %?0?% 0 #26472d;display:flex;align-items:center;background-color:rgba(133,130,130,.8);border-radius:%?50?%}.modal-ending-score-anim-zone .modal-ending-score-anim__thanks[data-v-6f9b7199]{background-size:100% 100%;background-repeat:no-repeat}.modal-ending-score-anim__thanks-encourage[data-v-6f9b7199]{background-image:url("+c+");width:%?50?%;height:%?50?%}.modal-ending-score-anim__thanks-normal[data-v-6f9b7199]{background-image:url("+d+");width:%?50?%;height:%?50?%}.modal-ending-score-anim__thanks-supper[data-v-6f9b7199]{background-image:url("+u+");width:%?50?%;height:%?50?%}.modal-ending-score-anim-zone .modal-ending-score-anim__text[data-v-6f9b7199]{font-size:%?36?%;color:#78e08f;text-shadow:%?-2?% %?-2?% 0 #26472d,%?2?% %?-2?% 0 #26472d,%?-2?% %?2?% 0 #26472d,%?2?% %?2?% 0 #26472d;display:flex;align-items:center;gap:%?6?%}.modal-ending-score-anim-zone .modal-ending-score-anim__flagimg[data-v-6f9b7199]{width:%?40?%;height:%?40?%;position:relative;top:%?6?%}\n\n/* ----------------------- */.modal-container[data-v-6f9b7199]{z-index:100;background-image:url("+f+");background-size:96% 100%;background-repeat:no-repeat;background-position-x:%?10?%;\n    /* background-position-y: 10rpx; */padding:%?20?%;\n    /* border: 6px solid #f0efbd; */border-top-left-radius:30%;border-top-right-radius:30%;border-bottom-left-radius:10%;border-bottom-right-radius:10%;box-shadow:inset %?-2?% %?-4?% %?16?% %?8?% #f0efbd,inset %?2?% %?4?% %?16?% %?8?% #000;width:80vw;height:46vh;position:absolute;top:6vh;left:50vw;-webkit-transform:translateX(-50%) scale(1) rotate(0deg);transform:translateX(-50%) scale(1) rotate(0deg);display:flex;flex-direction:column;justify-content:space-between;-webkit-animation:modal-container-in-data-v-6f9b7199 .3s ease-in-out forwards;animation:modal-container-in-data-v-6f9b7199 .3s ease-in-out forwards}@-webkit-keyframes modal-container-in-data-v-6f9b7199{0%{opacity:0;-webkit-transform:translateX(-50%) scale(.1) rotate(0deg);transform:translateX(-50%) scale(.1) rotate(0deg)}100%{opacity:1;-webkit-transform:translateX(-50%) scale(1) rotate(0deg);transform:translateX(-50%) scale(1) rotate(0deg)}}@keyframes modal-container-in-data-v-6f9b7199{0%{opacity:0;-webkit-transform:translateX(-50%) scale(.1) rotate(0deg);transform:translateX(-50%) scale(.1) rotate(0deg)}100%{opacity:1;-webkit-transform:translateX(-50%) scale(1) rotate(0deg);transform:translateX(-50%) scale(1) rotate(0deg)}}.modal-outter-hide .modal-container[data-v-6f9b7199]{-webkit-animation:modal-outter-hide-anim-data-v-6f9b7199 1s ease-in-out forwards;animation:modal-outter-hide-anim-data-v-6f9b7199 1s ease-in-out forwards}@-webkit-keyframes modal-outter-hide-anim-data-v-6f9b7199{0%{opacity:1;-webkit-transform:translateX(-50%) scale(1.1) rotate(0deg);transform:translateX(-50%) scale(1.1) rotate(0deg)}100%{opacity:0;-webkit-transform:translateX(-50%) scale(.1) rotate(359deg);transform:translateX(-50%) scale(.1) rotate(359deg)}}@keyframes modal-outter-hide-anim-data-v-6f9b7199{0%{opacity:1;-webkit-transform:translateX(-50%) scale(1.1) rotate(0deg);transform:translateX(-50%) scale(1.1) rotate(0deg)}100%{opacity:0;-webkit-transform:translateX(-50%) scale(.1) rotate(359deg);transform:translateX(-50%) scale(.1) rotate(359deg)}}.modal-contents[data-v-6f9b7199]{flex:1;padding-top:%?150?%;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:%?20?%}.modal-grid[data-v-6f9b7199]{position:relative;width:72vw;height:10vh;display:flex;justify-content:space-around;align-items:center}\n\n/* 单分选择器 */.modal-grid-single-selector-box[data-v-6f9b7199]{position:absolute;width:28%;height:100%;\n    /* border: 2rpx dashed #e6dee9; */border-radius:100%;box-shadow:inset %?-2?% %?2?% %?16?% %?8?% #fdcbf1,inset %?2?% %?-2?% %?16?% %?8?% #e6dee9;transition:all 50ms linear}.modal-grid-single-selector-box uni-view[data-v-6f9b7199]{position:absolute;top:26%;left:36%;width:%?0?%;height:%?0?%;border-radius:100%;box-shadow:%?-2?% %?2?% %?16?% %?6?% #fdcbf1,%?2?% %?-2?% %?16?% %?6?% #e6dee9;-webkit-transform:scaleX(1.8) rotate(60deg);transform:scaleX(1.8) rotate(60deg)}.modal-grid .modal-grid-cell[data-v-6f9b7199]{position:relative;width:26%;height:90%;border-radius:100%;transition:all .5s linear;-webkit-animation:modal-grid-cell-act-data-v-6f9b7199 2s linear infinite;animation:modal-grid-cell-act-data-v-6f9b7199 2s linear infinite}@-webkit-keyframes modal-grid-cell-act-data-v-6f9b7199{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}20%{-webkit-transform:rotate(10deg);transform:rotate(10deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(10deg);transform:rotate(10deg)}80%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}100%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@keyframes modal-grid-cell-act-data-v-6f9b7199{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}20%{-webkit-transform:rotate(10deg);transform:rotate(10deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(10deg);transform:rotate(10deg)}80%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}100%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}.modal-grid .modal-grid-cell uni-image[data-v-6f9b7199]{position:absolute;width:100%;height:100%}.modal-grid .modal-grid-cell-scrolling[data-v-6f9b7199]{-webkit-animation:none;animation:none}\n\n/* .modal-grid .modal-grid-cell-ending {\n    animation: modal-grid-cell-ending-act 1s ease-in-out infinite;\n}\n@keyframes modal-grid-cell-ending-act {\n    0% {\n    transform: translateY(0);\n  }\n  25% {\n    transform: translateY(-18rpx);\n  }\n  50% {\n    transform: translateY(0);\n  }\n  75% {\n    transform: translateY(-18rpx);\n  }\n  100% {\n    transform: translateY(0);\n  }\n} */.modal-buttons[data-v-6f9b7199]{width:50%;margin:0 auto;position:relative;bottom:10%;height:%?80?%;display:flex;align-items:center;justify-content:center}.modal-buttons .btn[data-v-6f9b7199]{position:relative;top:%?6?%;right:%?6?%;width:%?108?%;height:%?108?%;text-align:center;background-color:#e75c43;color:#f0efbd;text-shadow:%?-2?% %?-2?% 0 #000,%?2?% %?-2?% 0 #000,%?-2?% %?2?% 0 #000,%?2?% %?2?% 0 #000;font-size:%?56?%;font-weight:800;letter-spacing:%?8?%;border-radius:100%;box-shadow:%?-2?% %?-4?% %?16?% %?8?% #f0c5bd,%?2?% %?4?% %?16?% %?8?% #000;display:flex;justify-content:center;align-items:center;transition:all .3s linear;-webkit-animation:btn-act-data-v-6f9b7199 2s infinite;animation:btn-act-data-v-6f9b7199 2s infinite}.modal-buttons .btn uni-text[data-v-6f9b7199]{position:relative;bottom:%?4?%;left:%?4?%}@-webkit-keyframes btn-act-data-v-6f9b7199{0%{-webkit-transform:scale(1);transform:scale(1)}25%{-webkit-transform:scale(1.05);transform:scale(1.05)}50%{-webkit-transform:scale(1);transform:scale(1)}75%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes btn-act-data-v-6f9b7199{0%{-webkit-transform:scale(1);transform:scale(1)}25%{-webkit-transform:scale(1.05);transform:scale(1.05)}50%{-webkit-transform:scale(1);transform:scale(1)}75%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}.modal-buttons-disabled[data-v-6f9b7199]{opacity:.5;pointer-events:none}.modal-buttons-disabled .btn[data-v-6f9b7199]{-webkit-animation:none!important;animation:none!important}\n\n/* 奖项说明 */.modal-ending-desc-zone[data-v-6f9b7199]{width:80vw;height:40vh;position:absolute;top:56vh;left:50vw;-webkit-transform:translateX(-50%);transform:translateX(-50%);font-size:.8rem;color:#fff;z-index:99;display:flex;flex-direction:column;gap:%?12?%;transition:all 1s ease-in-out}.modal-outter-hide .modal-ending-desc-zone[data-v-6f9b7199]{opacity:0}.ending-desc-title[data-v-6f9b7199]{font-size:%?32?%}.ending-desc-item[data-v-6f9b7199]{display:flex;gap:%?12?%}.ending-desc-item__imgs[data-v-6f9b7199]{display:flex;gap:%?8?%}.ending-desc-item__imgs uni-image[data-v-6f9b7199]{width:%?46?%;height:%?46?%;border-radius:100%;border:%?2?% solid rgba(246,229,141,.3)}.ending-desc-item__label[data-v-6f9b7199]{flex-shrink:0}.ending-desc-item__other[data-v-6f9b7199]{font-size:.7rem;display:flex;flex-direction:column;transition:all 1s ease-in-out}\n\n/* 图片对应分值说明 */.ending-desc-score-zone[data-v-6f9b7199]{display:flex;justify-content:center;transition:all 1s ease-in-out}.ending-desc-score-half[data-v-6f9b7199]{flex:1;display:flex;flex-direction:column}.ending-desc-score-item[data-v-6f9b7199]{font-size:.8rem;display:flex;gap:%?6?%}.ending-desc-score-item__pimg[data-v-6f9b7199]{width:%?40?%;height:%?40?%;border-radius:100%;border:%?2?% solid rgba(246,229,141,.3)}.ending-desc-score-item__flagimg[data-v-6f9b7199]{width:%?36?%;height:%?36?%;position:relative;top:%?6?%}",""]),e.exports=t},"4d46":function(e,t,n){var a=n("4b58");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=n("967d").default;r("3bc52186",a,!0,{sourceMap:!1,shadowMode:!1})},"5fe2":function(e,t,n){e.exports=n.p+"static/pbus/audio.png"},"68fd8":function(e,t,n){e.exports=n.p+"static/pbus/p1.png"},76582:function(e,t,n){"use strict";n.r(t);var a=n("93df"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},"787f":function(e,t,n){e.exports=n.p+"static/pbus/score_flag.png"},9298:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{class:{"modal-outter":!0,"modal-outter-hide":e.isEndToBack}},[a("v-uni-view",{staticClass:"modal-mask"}),a("v-uni-view",{class:{"modal-ending-score-anim-zone":!0,"modal-ending-score-anim-zone-display":e.endingScoreAnimDisplay}},[a("v-uni-view",{class:{"modal-ending-score-anim__thanks":!0,"modal-ending-score-anim__thanks-encourage":e.endingScoreText.includes("1 x"),"modal-ending-score-anim__thanks-normal":e.endingScoreText.includes("2 x")||e.endingScoreText.includes("3 x"),"modal-ending-score-anim__thanks-supper":e.endingScoreText.includes("6 x")}}),a("v-uni-view",{staticClass:"modal-ending-score-anim__text"},[a("v-uni-text",[e._v(e._s(e.endingScoreText.replace("1 x","")))])],1),a("v-uni-image",{staticClass:"modal-ending-score-anim__flagimg",attrs:{src:n("787f")}})],1),a("v-uni-view",{staticClass:"modal-container"},[a("v-uni-view",{staticClass:"modal-contents"},[a("v-uni-view",{staticClass:"modal-grid"},[a("v-uni-view",{staticClass:"modal-grid-single-selector-box",style:{opacity:e.singleSelectorOpacity,left:e.singleSelectorPxCellAry[e.singleSelectorPxIndex]+"%"}},[a("v-uni-view")],1),a("v-uni-view",{class:{"modal-grid-cell":!0,"modal-grid-cell-scrolling":e.isScrolling}},e._l(e.gridCells[0],(function(t,n){return a("v-uni-image",{key:n,style:{display:"p"+(e.gridCell1+1)===t?"flex":"none"},attrs:{src:"../../static/pbus/"+t+".png"}})})),1),a("v-uni-view",{class:{"modal-grid-cell":!0,"modal-grid-cell-scrolling":e.isScrolling}},e._l(e.gridCells[1],(function(t,n){return a("v-uni-image",{key:n,style:{display:"p"+(e.gridCell2+1)===t?"flex":"none"},attrs:{src:"../../static/pbus/"+t+".png"}})})),1),a("v-uni-view",{class:{"modal-grid-cell":!0,"modal-grid-cell-scrolling":e.isScrolling}},e._l(e.gridCells[2],(function(t,n){return a("v-uni-image",{key:n,style:{display:"p"+(e.gridCell3+1)===t?"flex":"none"},attrs:{src:"../../static/pbus/"+t+".png"}})})),1)],1)],1),a("v-uni-view",{class:{"modal-buttons":!0,"modal-buttons-disabled":!e.btnEnabled}},[a("v-uni-view",{staticClass:"btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onBtn.apply(void 0,arguments)}}},[a("v-uni-text",[e._v(e._s(e.isScrolling?"停":"转"))])],1)],1)],1),a("v-uni-view",{staticClass:"modal-ending-desc-zone"},[a("v-uni-view",{staticClass:"ending-desc-title"},[a("v-uni-text",[e._v("奖项说明")])],1),e._l(Object.keys(e.endding_map_data).filter((function(e){return["j0","j6"].includes(e)})),(function(t,n){return a("v-uni-view",{key:t,staticClass:"ending-desc-item"},[a("v-uni-view",{staticClass:"ending-desc-item__imgs"},e._l(e.endding_map_data[t].ending,(function(e,t){return a("v-uni-image",{key:t,attrs:{src:"../../static/pbus/p"+(e+1)+".png"}})})),1),a("v-uni-text",{staticClass:"ending-desc-item__desc"},[e._v(e._s(e.endding_map_data[t].desc))])],1)})),a("v-uni-view",{staticClass:"ending-desc-item__other"},[a("v-uni-text",[e._v("其他：")]),a("v-uni-text",[e._v("(1) 图案各不相同，则给予鼓励奖金")]),a("v-uni-text",[e._v("(2) 存在相同图案，则根据数量计算奖金")])],1),a("v-uni-view",{staticClass:"ending-desc-score-zone"},[a("v-uni-view",{staticClass:"ending-desc-score-half"},[a("v-uni-view",{staticClass:"ending-desc-score-item"},[a("v-uni-image",{staticClass:"ending-desc-score-item__pimg",attrs:{src:n("09de")}}),a("v-uni-text",[e._v("= "+e._s(e.scoreValueMapData.p6))]),a("v-uni-image",{staticClass:"ending-desc-score-item__flagimg",attrs:{src:n("787f")}})],1),a("v-uni-view",{staticClass:"ending-desc-score-item"},[a("v-uni-image",{staticClass:"ending-desc-score-item__pimg",attrs:{src:n("e9a9")}}),a("v-uni-text",[e._v("= "+e._s(e.scoreValueMapData.p5))]),a("v-uni-image",{staticClass:"ending-desc-score-item__flagimg",attrs:{src:n("787f")}})],1)],1),a("v-uni-view",{staticClass:"ending-desc-score-half"},[a("v-uni-view",{staticClass:"ending-desc-score-item"},[a("v-uni-image",{staticClass:"ending-desc-score-item__pimg",attrs:{src:n("dd8e")}}),a("v-uni-text",[e._v("= "+e._s(e.scoreValueMapData.p4))]),a("v-uni-image",{staticClass:"ending-desc-score-item__flagimg",attrs:{src:n("787f")}})],1),a("v-uni-view",{staticClass:"ending-desc-score-item"},[a("v-uni-image",{staticClass:"ending-desc-score-item__pimg",attrs:{src:n("ba89")}}),a("v-uni-text",[e._v("= "+e._s(e.scoreValueMapData.p3))]),a("v-uni-image",{staticClass:"ending-desc-score-item__flagimg",attrs:{src:n("787f")}})],1)],1),a("v-uni-view",{staticClass:"ending-desc-score-half"},[a("v-uni-view",{staticClass:"ending-desc-score-item"},[a("v-uni-image",{staticClass:"ending-desc-score-item__pimg",attrs:{src:n("db22")}}),a("v-uni-text",[e._v("= "+e._s(e.scoreValueMapData.p2))]),a("v-uni-image",{staticClass:"ending-desc-score-item__flagimg",attrs:{src:n("787f")}})],1),a("v-uni-view",{staticClass:"ending-desc-score-item"},[a("v-uni-image",{staticClass:"ending-desc-score-item__pimg",attrs:{src:n("68fd8")}}),a("v-uni-text",[e._v("= "+e._s(e.scoreValueMapData.p1))]),a("v-uni-image",{staticClass:"ending-desc-score-item__flagimg",attrs:{src:n("787f")}})],1)],1)],1)],2)],1)},r=[]},"93df":function(e,t,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("2634")),i=a(n("2fdc"));n("64aa"),n("5c47"),n("a1c1"),n("e966"),n("8f71"),n("bf0f"),n("aa9c"),n("c223");var o=n("9fbf"),s=n("0ee2"),l=null,c={j0:{ending:[5,5,5],prob:6,name:"特等",desc:"奖金 6x6x".concat(o.scoreValueMap.p6,"+道具1个")},j1:{ending:[4,4,4],prob:8,name:"一等",desc:"奖励奖金 “".concat(o.scoreValueMap.p5,"x3”")},j2:{ending:[3,3,3],prob:8,name:"二等",desc:"奖励奖金“".concat(o.scoreValueMap.p4,"x3”")},j3:{ending:[2,2,2],prob:8,name:"三等",desc:"奖励奖金“".concat(o.scoreValueMap.p3,"x3”")},j4:{ending:[1,1,1],prob:12,name:"四等",desc:"奖励奖金“".concat(o.scoreValueMap.p2,"x3”")},j5:{ending:[0,0,0],prob:16,name:"五等",desc:"奖励奖金“".concat(o.scoreValueMap.p1,"x3”")},j6:{ending:[5,4,3],prob:10,name:"六等",desc:"再转一次哦~"},jNone:{ending:[-1,-1,-1],prob:32}};function d(e){return!isNaN(Number(e))}function u(e){var t=[0,1,2,3,4,5].filter((function(t){return t!==e})),n=Math.floor(Math.random()*t.length+1);n=n>=t.length?t.length-1:n;var a=t[n];return a}function f(e){for(var t={},n=0;n<e.length;n++){var a=e[n];t[a]=(t[a]||0)+1}var r=[];for(var i in t)t[i]>1&&r.push({element:Number(i),count:t[i]});return r}function g(e){s.AudioPlayer.playEffect(e)}var p=null,m=null,v=null,b=null,h=null,w={props:{visible:{type:Boolean,required:!0}},data:function(){return{endingScoreAnimDisplay:!1,endingScoreText:"0 x 0",singleSelectorPxCellAry:[3,36,69],singleSelectorPxIndex:0,singleSelectorOpacity:0,scoreValueMapData:o.scoreValueMap,endding_map_data:c,gridCells:[["p1","p2","p3","p4","p5","p6"],["p1","p2","p3","p4","p5","p6"],["p1","p2","p3","p4","p5","p6"]],gridCell1:0,gridCell2:3,gridCell3:5,isScrolling:!1,btnEnabled:!0,curEndingRes:null,isEndToBack:!1}},methods:{onEnd:function(){var e=this;return(0,i.default)((0,r.default)().mark((function t(){var n,a,i,o,s,l;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getEndingScore(e.runSingleScoreSelector);case 2:return n=t.sent,a=n.resScore,i=n.uniScore,o=n.pCount,s=n.pDbCount,l="",l=1===o?"".concat(o," x ").concat(i):0!==s?"".concat(s," x ").concat(o," x ").concat(i):"".concat(o," x ").concat(i),e.endingScoreText=l,t.next=12,e.waitUiUpdate();case 12:return e.endingScoreAnimDisplay=!0,t.next=15,e.waitUiUpdate(5e3);case 15:return e.isEndToBack=!0,t.next=18,e.waitUiUpdate(2e3);case 18:e.$emit("end",{endScore:a}),e.endingScoreAnimDisplay=!1;case 20:case"end":return t.stop()}}),t)})))()},runSingleScoreSelector:function(){var e=this;return(0,i.default)((0,r.default)().mark((function t(){var n;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.singleSelectorOpacity<1)){t.next=4;break}return e.singleSelectorOpacity=1,t.next=4,e.waitUiUpdate();case 4:return e.stopSingleScoreSelector(),t.next=7,e.startSingleScoreSelectorScrolling();case 7:return g("jj_end_normal"),t.next=10,e.waitUiUpdate();case 10:return console.log("-------- 单分 最终选择的 格子索引 = ",e.singleSelectorPxIndex),n=o.scoreValueMap["p".concat(e.curEndingRes.ending[e.singleSelectorPxIndex])],console.log("-------- 单分 最终选择的 得分 = ",n),t.abrupt("return",n);case 14:case"end":return t.stop()}}),t)})))()},startSingleScoreSelectorScrolling:function(){var e=arguments,t=this;return(0,i.default)((0,r.default)().mark((function n(){var a,i;return(0,r.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:100,t.startScrollingAudioEffect(100,"jj_pop"),h=setInterval((function(){t.singleSelectorPxIndex=t.singleSelectorPxIndex>=t.singleSelectorPxCellAry.length-1?0:t.singleSelectorPxIndex+1}),a),i=6*Math.random()+2,console.log("-------- 随机生成的滚动时常 randomNum = ",i),n.next=7,t.waitUiUpdate(1e3*i);case 7:return t.startScrollingAudioEffect(200,"jj_pop"),t.singleScoreSelectorScrollingLossSpeed(200),n.next=11,t.waitUiUpdate(3e3);case 11:return t.startScrollingAudioEffect(300,"jj_pop"),t.singleScoreSelectorScrollingLossSpeed(300),n.next=15,t.waitUiUpdate(2e3);case 15:return t.startScrollingAudioEffect(500,"jj_pop"),t.singleScoreSelectorScrollingLossSpeed(500),n.next=19,t.waitUiUpdate(1e3);case 19:t.stopScrollingAudioEffect(),t.stopSingleScoreSelector();case 21:case"end":return n.stop()}}),n)})))()},singleScoreSelectorScrollingLossSpeed:function(){var e=arguments,t=this;return(0,i.default)((0,r.default)().mark((function n(){var a;return(0,r.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=e.length>0&&void 0!==e[0]?e[0]:100,t.stopSingleScoreSelector(),h=setInterval((function(){t.singleSelectorPxIndex=t.singleSelectorPxIndex>=t.singleSelectorPxCellAry.length-1?0:t.singleSelectorPxIndex+1}),a);case 3:case"end":return n.stop()}}),n)})))()},stopSingleScoreSelector:function(){h&&(clearInterval(h),h=null)},waitUiUpdate:function(){var e=arguments,t=this;return(0,i.default)((0,r.default)().mark((function n(){var a;return(0,r.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:50,t.$forceUpdate(),n.next=4,new Promise((function(e){return t.$nextTick(e)}));case 4:return n.next=6,new Promise((function(e){return setTimeout(e,a)}));case 6:case"end":return n.stop()}}),n)})))()},getEndingScore:function(e){var t=this;return(0,i.default)((0,r.default)().mark((function n(){var a,i,s,l,c,d;return(0,r.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=0,i=0,s=0,l=0,!t.curEndingRes||!Array.isArray(t.curEndingRes.ending)){n.next=29;break}if("j0"!==t.curEndingRes.key){n.next=13;break}i=o.scoreValueMap.p6,s=6,l=6,a=36*o.scoreValueMap.p6,g("jj_end_supper"),n.next=27;break;case 13:if(c=f(t.curEndingRes.ending),console.log("-------- 重复项 duplicatesRes = ",c),0!==c.length){n.next=22;break}return n.next=18,e();case 18:i=n.sent,s=1,n.next=26;break;case 22:d=c[0],i=o.scoreValueMap["p".concat(d.element+1)],s=d.count,g("jj_end_sucess");case 26:a=s*i;case 27:n.next=32;break;case 29:i=o.scoreValueMap.p1,s=1,a=o.scoreValueMap.p1;case 32:return console.log("-------- 最终得分 resScore = ",a),n.abrupt("return",{resScore:a,uniScore:i,pCount:s,pDbCount:l});case 34:case"end":return n.stop()}}),n)})))()},startScrolling:function(){this.curEndingRes=null,this.isScrolling=!0,this.gridCellScrolling1(),this.gridCellScrolling2(),this.gridCellScrolling3(),this.startScrollingAudioEffect()},startScrollingAudioEffect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jj_scroll";this.stopScrollingAudioEffect(),p=setInterval((function(){g(t)}),e)},stopScrollingAudioEffect:function(){p&&(clearInterval(p),p=null)},willStopScrolling1:function(){var e=this;return(0,i.default)((0,r.default)().mark((function t(){var n;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.startScrollingAudioEffect(100),t.next=3,e.lossSpeed1(1e3,100);case 3:return e.startScrollingAudioEffect(200),t.next=6,e.lossSpeed1(2e3,300);case 6:return e.startScrollingAudioEffect(400),t.next=9,e.lossSpeed1(3e3,500);case 9:if(e.stopScrollingAudioEffect(),clearInterval(m),m=null,!(Array.isArray(l)&&l.length>=3&&null!==l[0])){t.next=16;break}e.gridCell1=l[0],t.next=23;break;case 16:return n=u(e.gridCell1),e.gridCell1=n,t.next=20,e.waitUiUpdate();case 20:console.log("-------- 摇奖机 自然停止 this.gridCell1 = ",e.gridCell1),(!Array.isArray(l)||l.length<3)&&(l=[null,null,null]),l[0]=e.gridCell1;case 23:case"end":return t.stop()}}),t)})))()},lossSpeed1:function(e,t){var n=this;return new Promise((function(a){setTimeout((function(){n.gridCellScrolling1(t),a()}),e)}))},gridCellScrolling1:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;m&&(clearInterval(m),m=null),m=setInterval((function(){var t=e.gridCell1>=5?0:e.gridCell1+1;e.gridCell1=t}),t)},willStopScrolling2:function(){var e=this;return(0,i.default)((0,r.default)().mark((function t(){var n;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.startScrollingAudioEffect(100),t.next=3,e.lossSpeed2(1e3,100);case 3:return e.startScrollingAudioEffect(200),t.next=6,e.lossSpeed2(2e3,300);case 6:return e.startScrollingAudioEffect(400),t.next=9,e.lossSpeed2(3e3,500);case 9:if(e.stopScrollingAudioEffect(),clearInterval(v),v=null,!(Array.isArray(l)&&l.length>=3&&null!==l[1])){t.next=16;break}e.gridCell2=l[1],t.next=22;break;case 16:return n=u(e.gridCell2),e.gridCell2=n,t.next=20,e.waitUiUpdate();case 20:console.log("-------- 摇奖机 自然停止 this.gridCell2 = ",e.gridCell2),l[1]=e.gridCell2;case 22:case"end":return t.stop()}}),t)})))()},lossSpeed2:function(e,t){var n=this;return new Promise((function(a){setTimeout((function(){n.gridCellScrolling2(t),a()}),e)}))},gridCellScrolling2:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;v&&(clearInterval(v),v=null),v=setInterval((function(){var t=e.gridCell2>=5?0:e.gridCell2+1;e.gridCell2=t}),t)},willStopScrolling3:function(){var e=this;return(0,i.default)((0,r.default)().mark((function t(){var n;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.startScrollingAudioEffect(100),t.next=3,e.lossSpeed3(1e3,100);case 3:return e.startScrollingAudioEffect(200),t.next=6,e.lossSpeed3(2e3,300);case 6:return e.startScrollingAudioEffect(400),t.next=9,e.lossSpeed3(3e3,500);case 9:if(e.stopScrollingAudioEffect(),clearInterval(b),b=null,!(Array.isArray(l)&&l.length>=3&&null!==l[2])){t.next=16;break}e.gridCell3=l[2],t.next=26;break;case 16:return n=u(e.gridCell3),e.gridCell3=n,t.next=20,e.waitUiUpdate();case 20:return console.log("-------- 摇奖机 自然停止 this.gridCell3 = ",e.gridCell3),l[2]=e.gridCell3,console.log("*** ending_cells = ",l),e.findLevelFromEndingRes(),t.next=26,e.waitUiUpdate();case 26:case"end":return t.stop()}}),t)})))()},lossSpeed3:function(e,t){var n=this;return new Promise((function(a){setTimeout((function(){n.gridCellScrolling3(t),a()}),e)}))},gridCellScrolling3:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;b&&(clearInterval(b),b=null),b=setInterval((function(){var t=e.gridCell3>=5?0:e.gridCell3+1;e.gridCell3=t}),t)},findLevelFromEndingRes:function(){for(var e in c){var t=c[e].ending;if(l+""===t+""){var n={ending:t,key:e,level:parseInt(e.replace("j",""))};return console.log("匹配到的奖项等级：",n),this.curEndingRes=n,n}}return this.curEndingRes={ending:l,key:"jNone",level:-1},console.log("没有匹配到任何奖项 = ",l),null},preCalculateEnding:function(){var e=Math.floor(101*Math.random());console.log("randomNum",e);var t={ary:null,level:-1},n=function(e){var t=Math.floor(100*Math.random()),n=0;for(var a in e){var r=e[a],i=r.prob,o=r.ending;if(n+=i,t<n){var s=d(a.replace("j",""));if(s)return{ending:o,key:a,level:parseInt(a.replace("j",""))};if("jNone"===a)return null}}return null}(c);return console.log("预先生成的奖项结果 endingRes = ",n),this.curEndingRes=n,null!==n&&"jNone"!==n.key&&(t.ary=n.ending,t.level=n.level),l=t.ary,console.log("已生成最终奖项 ending_cells_obj = ",t),n},onBtn:function(){var e=this;this.isScrolling?this.btnEnabled&&(this.preCalculateEnding(),this.btnEnabled=!1,this.willStopScrolling1(),setTimeout((function(){return e.willStopScrolling2()}),6e3),setTimeout((function(){e.willStopScrolling3().then((function(){e.isScrolling=!1,null!==e.curEndingRes&&"j6"===e.curEndingRes.key?(g("jj_again"),e.btnEnabled=!0,uni.showToast({title:"恭喜中奖：再转一次~",icon:"none",duration:3e3})):e.onEnd()}))}),12e3)):this.startScrolling()}}};t.default=w},9704:function(e,t,n){"use strict";n.r(t);var a=n("fa1e"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},9988:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("0ee2"),r={data:function(){return{isMuted:!1}},methods:{toggleAudio:function(){a.AudioPlayer.setMute(!this.isMuted),this.isMuted=!this.isMuted}}};t.default=r},"9dd1":function(e,t,n){"use strict";n.r(t);var a=n("d141"),r=n("9704");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("3c35");var o=n("828b"),s=Object(o["a"])(r["default"],a["b"],a["c"],!1,null,"4a1bcae8",null,!1,a["a"],void 0);t["default"]=s.exports},"9f06":function(e,t,n){e.exports=n.p+"static/pbus/j_encourage.png"},"9fbf":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.setMaxScore=t.scoreValueMap=t.getMaxScore=t.audioBaseUrlDev=void 0,n("e966");t.audioBaseUrlDev="https://copy-easy-neumui.vercel.app/";t.scoreValueMap={p1:2,p2:6,p3:8,p4:10,p5:16,p6:18,p1_same:1,p2_same:3,p3_same:6,p4_same:8,needs_pass:6,t_remove:8,t_magic:-10};t.setMaxScore=function(e){uni.setStorageSync("max_score",e)};t.getMaxScore=function(){try{var e=parseInt(uni.getStorageSync("max_score"));return console.log("getMaxScore num:",e),e||0}catch(t){return console.log("getMaxScore Err:",t),0}}},ba89:function(e,t,n){e.exports=n.p+"static/pbus/p3.png"},bde9:function(e,t,n){e.exports=n.p+"static/pbus/j_bg.png"},d141:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"jj-game"},[n("AudioCtrl"),e.show?n("JjModal",{on:{end:function(t){arguments[0]=t=e.$handleEvent(t),e.handleJjModalEnd.apply(void 0,arguments)}}}):e._e()],1)},r=[]},d372:function(e,t,n){e.exports=n.p+"static/pbus/mute.png"},db22:function(e,t,n){e.exports=n.p+"static/pbus/p2.png"},dd8e:function(e,t,n){e.exports=n.p+"static/pbus/p4.png"},dfd6:function(e,t,n){var a=n("18b5");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=n("967d").default;r("5654c5d9",a,!0,{sourceMap:!1,shadowMode:!1})},e9a9:function(e,t,n){e.exports=n.p+"static/pbus/p5.png"},ed55:function(e,t,n){"use strict";n.r(t);var a=n("9298"),r=n("76582");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("42f0");var o=n("828b"),s=Object(o["a"])(r["default"],a["b"],a["c"],!1,null,"6f9b7199",null,!1,a["a"],void 0);t["default"]=s.exports},ef49:function(e,t,n){e.exports=n.p+"static/pbus/j_supper.png"},fa1e:function(e,t,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("ed55")),i=a(n("20ce")),o=n("0ee2"),s={components:{JjModal:r.default,AudioCtrl:i.default},data:function(){return{show:!0}},onLoad:function(){(0,o.playJjBGM2)()},onUnload:function(){(0,o.stopJjBGM)()},methods:{handleJjModalEnd:function(){var e=this;this.show=!1,uni.showModal({title:"再玩一次？",showCancel:!0,cancelText:"不玩了",cancelColor:"#009432",confirmText:"再来！",confirmColor:"#EE5A24",success:function(t){console.log("-----res = ",t),t.confirm?e.show=!0:uni.navigateBack()}})}}};t.default=s}}])